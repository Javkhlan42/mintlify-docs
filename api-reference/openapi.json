{
  "openapi": "3.1.0",
  "info": {
    "title": "OpenAPI Plant Store",
    "description": "A sample API that uses a plant store as an example to demonstrate features in the OpenAPI specification",
    "license": {
      "name": "MIT"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "openapi": "3.1.0",
      "info": {
        "title": "Yellow Book API",
        "description": "API for searching and retrieving organization information from Yellow Book",
        "version": "1.0.0"
      },
      "servers": [
        { "url": "https://api.yellowbook.local/v1", "description": "Example API base URL (replace with real)" }
      ],
      "paths": {
        "/directory": {
          "get": {
            "summary": "Бүх байгууллагын жагсаалт",
            "description": "Бүх байгууллагын жагсаалтыг авах (paged)",
            "parameters": [
              { "name": "page", "in": "query", "schema": { "type": "integer", "default": 1 }, "description": "Хуудасны дугаар" },
              { "name": "pageSize", "in": "query", "schema": { "type": "integer", "default": 20 }, "description": "Хуудасны хэмжээ" }
            ],
            "responses": {
              "200": { "description": "Жагсаалт", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/SearchResponse" } } } }
            }
          }
        },
        "/organization/{id}": {
          "get": {
            "summary": "Байгууллагын дэлгэрэнгүй",
            "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } } ],
            "responses": {
              "200": { "description": "Дэлгэрэнгүй", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/OrganizationResponse" } } } },
              "404": { "description": "Not found" }
            }
          }
        },
        {
          "openapi": "3.1.0",
          "info": {
            "title": "Yellow Book API",
            "description": "API for searching and retrieving organization information from Yellow Book",
            "version": "1.0.0"
          },
          "servers": [
            { "url": "https://api.yellowbook.local/v1", "description": "Example API base URL (replace with real)" }
          ],
          "paths": {
            "/directory": {
              "get": {
                "summary": "Бүх байгууллагын жагсаалт",
                "description": "Бүх байгууллагын жагсаалтыг авах (paged)",
                "parameters": [
                  { "name": "page", "in": "query", "schema": { "type": "integer", "default": 1 }, "description": "Хуудасны дугаар" },
                  { "name": "pageSize", "in": "query", "schema": { "type": "integer", "default": 20 }, "description": "Хуудасны хэмжээ" }
                ],
                "responses": {
                  "200": { "description": "Жагсаалт", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/SearchResponse" } } } }
                }
              }
            },
            "/organization/{id}": {
              "get": {
                "summary": "Байгууллагын дэлгэрэнгүй",
                "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } } ],
                "responses": {
                  "200": { "description": "Дэлгэрэнгүй", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/OrganizationResponse" } } } },
                  "404": { "description": "Not found" }
                }
              }
            },
            "/yellow-books/assistant": {
              "post": {
                "summary": "AI Assistant асуултаар хайлт",
                "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "question": { "type": "string" } }, "required": ["question"] } } } },
                "responses": {
                  "200": { "description": "AI хайлтын үр дүн", "content": { "application/json": { "schema": { "type": "object", "properties": { "answer": { "type": "string" }, "organizations": { "type": "array", "items": { "$ref": "#/components/schemas/Organization" } } } } } } }
                }
              }
            },
            "/admin/email": {
              "post": {
                "summary": "Админд и-мэйл илгээх",
                "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "subject": { "type": "string" }, "body": { "type": "string" }, "from": { "type": "string" } }, "required": ["subject", "body", "from"] } } } },
                "responses": {
                  "200": { "description": "Амжилттай илгээгдсэн" }
                }
              }
            },
            "/organizations/{id}": {
              "get": {
                "summary": "Байгууллагын дэлгэрэнгүй мэдээлэл авах",
                "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } } ],
                "responses": {
                  "200": { "description": "Organization details", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/OrganizationResponse" } } } },
                  "404": { "description": "Not found" }
                }
              }
            },
            "/organizations/{id}/contacts": {
              "get": {
                "summary": "Байгууллагын холбоо барих мэдээлэл",
                "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } } ],
                "responses": {
                  "200": { "description": "Contact info", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ContactsResponse" } } } },
                  "404": { "description": "Not found" }
                }
              }
            },
            "/webhook/organization": {
              "post": {
                "summary": "Organization webhook (admin)",
                "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/OrganizationWebhook" } } } },
                "responses": { "200": { "description": "Webhook received" } }
              }
            }
          },
          "components": {
            "schemas": {
              "Organization": {
                "type": "object",
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "category": { "type": "string" },
                  "address": { "type": "string" },
                  "district": { "type": "string" },
                  "phone": { "type": "string" },
                  "email": { "type": "string" },
                  "website": { "type": "string" },
                  "latitude": { "type": "number" },
                  "longitude": { "type": "number" }
                }
              },
              "SearchResponse": {
                "type": "object",
                "properties": {
                  "value": { "type": "array", "items": { "$ref": "#/components/schemas/Organization" } },
                  "data": { "nullable": true },
                  "msgList": { "type": "array", "items": { "type": "string" } },
                  "attrs": { "type": "object" },
                  "status": { "type": "string", "enum": ["Success","Error"] }
                }
              },
              "OrganizationResponse": {
                "type": "object",
                "properties": {
                  "value": { "$ref": "#/components/schemas/Organization" },
                  "data": { "nullable": true },
                  "msgList": { "type": "array", "items": { "type": "string" } },
                  "attrs": { "type": "object" },
                  "status": { "type": "string", "enum": ["Success","Error"] }
                }
              },
              "ContactsResponse": {
                "type": "object",
                "properties": {
                  "value": { "type": "object", "properties": { "phones": { "type": "array", "items": { "type": "string" } }, "emails": { "type": "array", "items": { "type": "string" } } } },
                  "data": { "nullable": true },
                  "msgList": { "type": "array", "items": { "type": "string" } },
                  "attrs": { "type": "object" },
                  "status": { "type": "string", "enum": ["Success","Error"] }
                }
              },
              "OrganizationWebhook": {
                "type": "object",
                "properties": {
                  "id": { "type": "string" },
                  "action": { "type": "string", "description": "created|updated|deleted" },
                  "timestamp": { "type": "string", "format": "date-time" }
                }
              }
            }
          }
        }