---
title: 'AI Assistant хайлт'
api: 'POST /yellow-books/assistant'
description: 'Асуултаар байгууллагын мэдээлэл хайх (AI-powered)'
---

<Note>
  Энэхүү endpoint нь **AI технологи ашиглан** байгууллагын мэдээллийг байгалийн хэл дээрх асуултаар хайна. Уламжлалт хайлтаас илүү уян хатан, ойлгомжтой хайлт хийх боломжтой.
</Note>

## Endpoint

<CodeGroup>
```bash cURL
curl -X POST "https://sharnom.systems/yellow-books/assistant" \
  -H "Content-Type: application/json" \
  -d '{"question": "Сүхбаатар дүүрэгт ресторан байна уу?"}'
```

```javascript JavaScript
const response = await fetch('https://sharnom.systems/yellow-books/assistant', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ 
    question: 'Сүхбаатар дүүрэгт ресторан байна уу?' 
  })
});

const data = await response.json();
console.log('Хариулт:', data.answer);
console.log('Байгууллагууд:', data.organizations);
```

```python Python
import requests

response = requests.post(
    "https://sharnom.systems/yellow-books/assistant",
    headers={"Content-Type": "application/json"},
    json={"question": "Сүхбаатар дүүрэгт ресторан байна уу?"}
)

data = response.json()
print(f"Хариулт: {data['answer']}")
print(f"Байгууллагын тоо: {len(data['organizations'])}")
```
</CodeGroup>

---

## Request

<ParamField body="question" type="string" required>
  Байгалийн хэл дээрх асуулт (Монгол хэл дээр)
</ParamField>

---

## Example Questions

<CardGroup cols={2}>
  <Card title="Дүүргээр хайх" icon="location-dot">
    ```text
    Сүхбаатар дүүрэгт ресторан байна уу?
    ```
  </Card>
  
  <Card title="Ангиллаар хайх" icon="tag">
    ```text
    Кофе шоп хаана байна?
    ```
  </Card>
  
  <Card title="Нарийвчилсан" icon="magnifying-glass-plus">
    ```text
    Чингэлтэй дүүрэгт банк байна уу?
    ```
  </Card>
  
  <Card title="Байршлаар" icon="map-location-dot">
    ```text
    Миний ойролцоо ресторан байна уу?
    ```
  </Card>
</CardGroup>

<Tip>
  **Жишээ нарийвчилсан асуулт:**
  "Өдрийн кофе, цай уудаг газар Сүхбаатарт хаана байна?"
</Tip>

---

## Response

<ResponseField name="answer" type="string">
  AI-ийн бичсэн хариулт (Монгол хэл дээр)
</ResponseField>

<ResponseField name="organizations" type="array">
  Хайлтад тохирсон байгууллагуудын жагсаалт
  
  <Expandable title="Organization объект">
    <ResponseField name="id" type="string">
      Байгууллагын ID
    </ResponseField>
    
    <ResponseField name="name" type="string">
      Байгууллагын нэр
    </ResponseField>
    
    <ResponseField name="category" type="string">
      Ангилал
    </ResponseField>
    
    <ResponseField name="address" type="string">
      Хаяг
    </ResponseField>
    
    <ResponseField name="district" type="string">
      Дүүрэг
    </ResponseField>
    
    <ResponseField name="phone" type="string">
      Утасны дугаар
    </ResponseField>
    
    <ResponseField name="email" type="string">
      И-мэйл хаяг
    </ResponseField>
    
    <ResponseField name="website" type="string">
      Вебсайт
    </ResponseField>
    
    <ResponseField name="latitude" type="number">
      Өргөрөг
    </ResponseField>
    
    <ResponseField name="longitude" type="number">
      Уртраг
    </ResponseField>
  </Expandable>
</ResponseField>

---

## Response Examples

<Tabs>
  <Tab title="Success (200)">
    ```json
    {
      "answer": "Тийм, Сүхбаатар дүүрэгт олон ресторан байгаа. Эндээс хэдэн жишээг харуулж байна:",
      "organizations": [
        {
          "id": "1",
          "name": "Кофе хаус",
          "category": "Зоогийн газар",
          "address": "Сүхбаатар дүүрэг, 1-р хороо",
          "district": "Сүхбаатар",
          "phone": "7000-0001",
          "email": "info@coffeehouse.mn",
          "website": "https://coffeehouse.mn",
          "latitude": 47.9186,
          "longitude": 106.9177
        },
        {
          "id": "5",
          "name": "Монгол рестораны",
          "category": "Зоогийн газар",
          "address": "Сүхбаатар дүүрэг, 3-р хороо",
          "district": "Сүхбаатар",
          "phone": "7000-0005",
          "email": "contact@mongolrest.mn",
          "website": null,
          "latitude": 47.9195,
          "longitude": 106.9180
        }
      ]
    }
    ```
  </Tab>
  
  <Tab title="Error (400)">
    ```json
    {
      "answer": null,
      "organizations": [],
      "error": "Асуулт оруулна уу"
    }
    ```
  </Tab>
  
  <Tab title="Rate Limit (429)">
    ```json
    {
      "answer": null,
      "organizations": [],
      "error": "Rate limit хэтэрсэн. Түр хүлээгээд дахин оролдоно уу.",
      "retryAfter": 60
    }
    ```
  </Tab>
</Tabs>

---

## Code Examples

<CodeGroup>

```javascript JavaScript - Basic
async function aiSearch(question) {
  const response = await fetch(
    'https://sharnom.systems/yellow-books/assistant',
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ question })
    }
  );
  
  const data = await response.json();
  return data;
}

// Ашиглалт
const result = await aiSearch('Сүхбаатар дүүрэгт ресторан байна уу?');
console.log('Хариулт:', result.answer);
console.log('Байгууллагууд:', result.organizations);
```

```python Python - requests
import requests
import json

def ai_search(question):
    url = "https://sharnom.systems/yellow-books/assistant"
    headers = {"Content-Type": "application/json"}
    data = {"question": question}
    
    response = requests.post(url, headers=headers, json=data)
    return response.json()

# Ашиглалт
result = ai_search("Сүхбаатар дүүрэгт ресторан байна уу?")
print(f"Хариулт: {result['answer']}")
print(f"Байгууллагын тоо: {len(result['organizations'])}")
```

```typescript TypeScript
interface AISearchRequest {
  question: string;
}

interface Organization {
  id: string;
  name: string;
  category: string;
  address: string;
  district: string;
  phone: string;
  email: string | null;
  website: string | null;
  latitude: number;
  longitude: number;
}

interface AISearchResponse {
  answer: string;
  organizations: Organization[];
}

async function aiAssistantSearch(
  question: string
): Promise<AISearchResponse> {
  const response = await fetch(
    'https://sharnom.systems/yellow-books/assistant',
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ question } as AISearchRequest)
    }
  );
  
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  
  return await response.json() as AISearchResponse;
}
```

</CodeGroup>

---

## Usage Examples

<AccordionGroup>
  <Accordion title="React Component" icon="react">
    ```jsx
    import React, { useState } from 'react';

    function AIAssistantSearch() {
      const [question, setQuestion] = useState('');
      const [result, setResult] = useState(null);
      const [loading, setLoading] = useState(false);
      
      const handleSearch = async (e) => {
        e.preventDefault();
        setLoading(true);
        
        try {
          const response = await fetch(
            'https://sharnom.systems/yellow-books/assistant',
            {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ question })
            }
          );
          
          const data = await response.json();
          setResult(data);
        } catch (error) {
          console.error('Алдаа:', error);
        } finally {
          setLoading(false);
        }
      };
      
      return (
        <div>
          <form onSubmit={handleSearch}>
            <input
              type="text"
              value={question}
              onChange={(e) => setQuestion(e.target.value)}
              placeholder="Асуулт оруулна уу..."
            />
            <button type="submit" disabled={loading}>
              {loading ? 'Хайж байна...' : 'Хайх'}
            </button>
          </form>
          
          {result && (
            <div>
              <p><strong>Хариулт:</strong> {result.answer}</p>
              <h3>Байгууллагууд ({result.organizations.length})</h3>
              <ul>
                {result.organizations.map(org => (
                  <li key={org.id}>
                    <strong>{org.name}</strong> - {org.address}
                    <br />Утас: {org.phone}
                  </li>
                ))}
              </ul>
            </div>
          )}
        </div>
      );
    }
    ```
  </Accordion>
  
  <Accordion title="Error Handling" icon="shield-exclamation">
    ```javascript
    async function safeAISearch(question) {
      try {
        const response = await fetch(
          'https://sharnom.systems/yellow-books/assistant',
          {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ question })
          }
        );
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        
        const data = await response.json();
        
        if (data.error) {
          throw new Error(data.error);
        }
        
        return data;
      } catch (error) {
        console.error('AI хайлтын алдаа:', error);
        return {
          answer: 'Алдаа гарлаа. Дахин оролдоно уу.',
          organizations: []
        };
      }
    }
    ```
  </Accordion>
  
  <Accordion title="Debouncing" icon="clock">
    ```javascript
    import { debounce } from 'lodash';

    const debouncedSearch = debounce(async (question) => {
      const result = await aiAssistantSearch(question);
      setResult(result);
    }, 500);

    // Ашиглалт
    <input 
      onChange={(e) => debouncedSearch(e.target.value)}
      placeholder="Асуулт оруулна уу..."
    />
    ```
  </Accordion>
</AccordionGroup>

---

## Best Practices

<CardGroup cols={2}>
  <Card title="Асуулт зөв тавих" icon="comment-dots">
    **Зөв:** "Сүхбаатар дүүрэгт ресторан байна уу?"
    
    **Буруу:** "ресторан" (хэт богино)
  </Card>
  
  <Card title="Error Handling" icon="shield-check">
    Үргэлж алдааны тохиолдлыг боловсруулах
  </Card>
  
  <Card title="Loading State" icon="spinner">
    Хайлт хийж байх үед хэрэглэгчид харуулах
  </Card>
  
  <Card title="Debouncing" icon="clock">
    Хэрэглэгч асуулт бичиж байх үед API дуудахгүй байх
  </Card>
</CardGroup>

---

## Rate Limiting

<Warning>
  - **Лимит:** 100 хүсэлт/минут
  - **Burst:** 20 хүсэлт/секунд
  
  AI хайлт нь илүү их тооцоолол шаарддаг тул rate limit-ийг мөрдөнө үү.
</Warning>

---

## Limitations

<Info>
  - Асуулт **500 тэмдэгтээс** хэтрэхгүй байх
  - Байршлын мэдээлэл (GPS) байхгүй тул "ойролцоо" гэх хайлтууд бүх дүүргийн үр дүн өгнө
  - AI нь зөвхөн системд бүртгэгдсэн байгууллагуудыг олох боломжтой
  - AI хайлтын үр дүн **100% үнэн зөв** биш байж болно
</Info>

---

## Notes

<AccordionGroup>
  <Accordion title="Хэл дэмжлэг" icon="language">
    AI хайлт нь **Монгол хэл** дээрх асуултыг ойлгодог. Хариулт нь **Монгол хэл** дээр өгөгдөнө.
  </Accordion>
  
  <Accordion title="Үр дүнг нарийвчлах" icon="bullseye">
    Үр дүнг илүү нарийвчлах бол `/directory` эсвэл `/organization/{id}` endpoint ашиглана
  </Accordion>
  
  <Accordion title="Системд бүртгэлгүй" icon="circle-xmark">
    AI нь зөвхөн системд бүртгэгдсэн байгууллагуудыг олох боломжтой
  </Accordion>
</AccordionGroup>

---

## Related Endpoints

<CardGroup cols={3}>
  <Card title="Жагсаалт" icon="list" href="/api-reference/endpoint/directory">
    GET /directory
  </Card>
  
  <Card title="Дэлгэрэнгүй" icon="building" href="/api-reference/endpoint/organization">
    GET /organization/{id}
  </Card>
  
  <Card title="Админ и-мэйл" icon="envelope" href="/api-reference/endpoint/admin-email">
    POST /admin/email
  </Card>
</CardGroup>